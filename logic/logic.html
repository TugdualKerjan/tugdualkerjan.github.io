<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Learning</title>
  <style>
    @import url(https://fonts.googleapis.com/css?family=Anonymous+Pro);

    body {
      font-family: Arial, Helvetica, sans-serif;
      font-size: 120%;
      line-height: 2;
      max-width: 800px;
      margin: 20px auto;
      padding: 0 20px;
      text-align: justify;
      padding-top: 80px;
    }

    table {
      margin: 0 auto;
      /* Centering */
      border-collapse: collapse;
      /* Optional: collapse borders into a single border */
      font-size: 14px;
    }

    th,
    td {
      border: 1px solid black;
      /* Set border for table cells */
      padding: 8px;
      /* Optional: add padding for better spacing */
      text-align: center;
      /* Center text in cells */
    }

    /* Style for the first three columns */
    th:nth-child(-n+3) {
      background-color: rgba(180, 180, 180, 0.4);
    }

    select {
      padding: 8px;
      /* Adjust padding as needed */
      border: 1px solid #ccc;
      /* Add border styling */
      border-radius: 5px;
      /* Add border-radius for rounded corners */
      width: 100%;
      text-align: center;
      /* Center the text in the dropdown menu */
      background-color: rgba(230, 230, 230, 0.7);
    }

    /* Base style for all buttons */
    button {
      background-color: #f8f8f8;
      /* Primary blue color */
      color: white;
      /* White text for contrast */
      /* Uniform padding */
      border: 2px solid #007bff;
      /* No border */
      border-radius: 8px;
      font-family: 'Arial', sans-serif;
      /* Consistent font with the body */
      font-size: 16px;
      /* Slightly larger font for readability */
      color: #333;
      /* Darker text for better visibility */
      text-align: center;
      /* Centered text */
      padding: 10px 15px;

      cursor: pointer;
      /* Pointer cursor on hover */
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      /* Smooth transition for hover effects */
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      /* Subtle shadow for depth */
    }

    select:hover {
      border-color: #0056b3;
      /* Darker blue on hover for interaction feedback */
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
      /* Slightly larger shadow on hover */
      background-color: #e9ecef;
      /* Slightly darker background on hover */
    }

    /* Additional style for special buttons, if needed */
    button.special-button {
      background-color: #ffdca7;
      /* Different background color for special buttons */
    }


    #stopExp {
      position: fixed;
      /* Fix the position relative to the viewport */
      top: 10px;
      /* Position from the right */
      background-color: lightgray;
      /* Set the background color to orange */
      z-index: 1100;
    }

    select {
      padding: 10px 15px;
      border: 2px solid #007bff;
      /* Blue border for a vibrant look */
      border-radius: 8px;
      /* More pronounced rounded corners */
      width: 100%;
      /* Full width */
      background-color: #f8f8f8;
      /* Lighter grey background for contrast */
      font-family: 'Arial', sans-serif;
      /* Consistent font with the body */
      font-size: 16px;
      /* Slightly larger font for readability */
      color: #333;
      /* Darker text for better visibility */
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      /* Subtle shadow for depth */
      transition: all 0.3s ease;
      /* Smooth transition for hover effects */
      cursor: pointer;
      /* Change cursor to pointer on hover */
    }

    select:hover,
    select:focus {
      border-color: #0056b3;
      /* Darker blue on hover for interaction feedback */
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.3);
      /* Slightly larger shadow on hover */
      background-color: #e9ecef;
      /* Slightly darker background on hover */
    }

    .underlined {
      display: inline;
      position: relative;
      cursor: pointer;
      text-decoration: none;
      /* Set the initial color for the first border-bottom to gray */
      border-bottom: 4px solid var(--underlined-default-color, gray);
      /* Adjust thickness as needed */
      transition: border-color 0.2s ease-in-out;
    }

    .lower-underlined {
      display: inline;
      position: relative;
      cursor: pointer;
      text-decoration: none;
      /* Set the initial color for the second border-bottom to gray */
      border-bottom: 4px solid var(--underlined-default-color, gray);
      /* Adjust thickness as needed */
      padding-bottom: 7px;
      /* Increase the space between text and bottom */
      transition: border-color 0.2s ease-in-out;
    }

    .lower-lower-underlined {
      display: inline;
      position: relative;
      cursor: pointer;
      text-decoration: none;
      /* Set the initial color for the second border-bottom to gray */
      border-bottom: 4px solid var(--underlined-default-color, gray);
      /* Adjust thickness as needed */
      padding-bottom: 13px;
      /* Increase the space between text and bottom */
      transition: border-color 0.2s ease-in-out;
    }

    .hidden {
      display: none;
    }

    .tip,
    .normal,
    .exercise {
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 20px;
      border: 2px solid #333;
      /* Dark border for emphasis */
    }

    .tip {
      background-color: #e0f7fa;
      /* Light blue background for tips */
      border-color: #2196f3;
      /* Darker blue border for tips */
    }

    .normal {
      background-color: #f8f8f8;
      /* Light blue background for tips */
      border-color: #cacaca;
      /* Darker blue border for tips */
    }

    .exercise {
      background-color: #ffecb3;
      /* Light yellow background for exercises */
      border-color: #ff9800;
      /* Darker yellow border for exercises */
    }

    .tip h3,
    .exercise h3 {
      margin-top: 1px;
      /* Reduced top margin for h3 */
    }



    #timer {
      position: fixed;
      /* Fix the position relative to the viewport */
      top: 0;
      /* Position it at the top of the viewport */
      left: 0;
      /* Position it at the left of the viewport */
      width: 100%;
      /* Make it full width */
      background-color: #333;
      /* Give it a background color */
      color: white;
      /* Set the text color */
      text-align: center;
      /* Center the text */
      padding: 18px 0;
      /* Add some padding */
      box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);
      /* Optional: Add a shadow for better visibility */
      z-index: 1000;
      /* Ensure it's above other content */
    }

    .knight {
      font-weight: bold;
      color: #007bff;
      /* Blue color for Knight */
    }

    .knave {
      font-weight: bold;
      color: #dc3545;
      /* Red color for Knave */
    }

    .professor-box {
      background-color: #ffffff;
      /* Light grey background */
      border: 2px solid #ccc;
      /* Light grey border */
      border-radius: 10px;
      /* Rounded corners */
      display: inline-flex;
      /* Align items in a row */
      align-items: center;
      /* Center items vertically */
      padding: 5px 10px;
      /* Padding around content */
      margin-bottom: 10px;
      /* Space below the box */
    }

    .professor-icon {
      width: 50px;
      /* Icon width */
      height: 50px;
      /* Icon height */
      margin-right: 5px;
      /* Space between icon and text */
    }

    /* Style for input fields to match the select elements */
    input[type="text"] {
      padding: 8px;
      /* Same padding as select */
      border: 1px solid #ccc;
      /* Same border style as select */
      border-radius: 5px;
      /* Same border radius as select */
      width: 80%;
      /* Full width to match select */
      text-align: center;
      /* Center text like in select */
      background-color: rgba(230, 230, 230, 0.7);
      /* Same background color as select */
      font-family: Arial, sans-serif;
      /* Consistent font family */
      font-size: 16px;
      /* Readable font size */
      transition: border-color 0.3s ease-in-out;
      /* Smooth transition for border color */
    }

    /* Focus style to highlight the active input field */
    input[type="text"]:focus {
      border-color: #2196f3;
      /* Highlight color similar to the tip border */
      outline: none;
      /* Remove default outline */
    }

    .dropdown-hint-wrapper {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      /* Ensure the wrapper spans the full width */
    }

    .dropdown-hint-wrapper select {
      margin-right: auto;
      /* Pushes the button to the right */
    }

    .dropdown-hint-wrapper button {
      margin-left: auto;
      /* Pushes the dropdown to the left */
    }

    .navigation-buttons {
      display: flex;
      justify-content: left;
      gap: 5px;
      /* adjust the gap between buttons as needed */
    }
  </style>
</head>

<body>

  <div id="timer">00:00:00</div>
  <script>
    let startTime = Date.now();
    let timerInterval;

    function startTimer() {
      timerInterval = setInterval(function () {
        let elapsedTime = Date.now() - startTime;
        document.getElementById('timer').innerText = formatTime(elapsedTime);
      }, 1000);
    }

    function formatTime(milliseconds) {
      let totalSeconds = Math.floor(milliseconds / 1000);
      let hours = Math.floor(totalSeconds / 3600);
      let minutes = Math.floor((totalSeconds - (hours * 3600)) / 60);
      let seconds = totalSeconds - (hours * 3600) - (minutes * 60);

      // Adding leading zeros
      hours = String(hours).padStart(2, '0');
      minutes = String(minutes).padStart(2, '0');
      seconds = String(seconds).padStart(2, '0');

      return hours + ":" + minutes + ":" + seconds;
    }
  </script>
  <button id="stopExp" onclick="downloadCSV(); goToTheEnd()">Stop the experiment</button>

  <section id="preamble ">
    <h2>Preamble: Knights and Knaves</h2>
    <div class="normal typewriter">
      <p>
        Embark on a logical journey as you discover the island of the Knights and the Knaves. In this unique realm, two
        distinct groups coexist: the <strong> Knights </strong>, known for their unwavering honesty, will always tell
        the truth </strong> , and the <strong> Knaves </strong>, infamous for their deceitful ways, will systematically
        lie. Adding to the intrigue, there are individuals known as the <strong> Normals </strong>, who possess the
        ability to choose between truth and falsehood at will. Moreover, navigating this island requires mastering the
        art of asking <strong> only closed questions </strong> — questions whose answer is either 'yes' or 'no'— as any
        other form of inquiry is deemed impolite.
      </p>
      <p>
        Upon arrival, you stumble upon a heated debate between two groups with contrasting communication styles.
        Intrigued by the logical complexities, you seek guidance from a wise scholar named Professor Logica who teaches
        you about the intricacies of this reasoning.
      </p>
    </div>

  </section>
  <section id="pretest" class="hidden">
    <div class="tip">
      <h3>Professor Logica</h3>
      Welcome ! Before we start in the journey of teaching you combinational logic, let's evaluate your current
      understanding of it !
    </div>
    <div id="ex1a" class="exercise">
      <h3>Checkup</h3>
      A and B are Knaves. You ask A ”What would B answer if I asked him whether he is a Knight?”
      What will he answer?
      <br>
      <br>
      <button onclick="recordButtonPress('Pretest/Ex1a/Yes', true)">Yes</button>
      <button onclick="recordButtonPress('Pretest/Ex1a/No', true)">No</button>
    </div>
    <div id="ex2a" class="exercise hidden">
      <h3>Checkup</h3>
      All Knights are born on Tuesdays and no politician is a Knight. You meet A and find out he
      is not a politician, is he born on Tuesday ?
      <br>
      <br>

      <button onclick="recordButtonPress('Pretest/Ex2a/Yes', true)">Yes</button>
      <button onclick="recordButtonPress('Pretest/Ex2a/No', true)">No</button>
      <button onclick="recordButtonPress('Pretest/Ex2a/Can\'t say', true)">Unsure</button>

    </div>
    <div id="ex3a" class="exercise hidden">
      <h3>Checkup</h3>
      Is it true that all the inhabitants of the moon are Knights?
      <br>
      <br>

      <button onclick="recordButtonPress('Pretest/Ex3a/Yes', true)">Yes</button>
      <button onclick="recordButtonPress('Pretest/Ex3a/No', true)">No</button>

    </div>
    <div id="ex4a" class="exercise hidden">
      <h3>Checkup</h3>
      Consider a scenario with three individuals A, B, and C, who are either Knights or Knaves. You
      have the following information: A says, ”There are at least 2 knights among us.” B says, ”That is
      not true, I am the only Knight.”
      <br>
      <br>
      How many possible scenarios are there?
      <br>
      <br>
      <input type="text" id="Pretest/Ex4a/input" placeholder="Enter your number answer">
      <br>
      <br>
      <button onclick="recordButtonPress('Pretest/Ex4a/input', true)">Submit</button>

    </div>
    <div id="ex5a" class="exercise hidden">
      <h3>Checkup</h3>
      Create a logical paradox.
      <br>
      <br>
      <input type="text" id="Pretest/Ex5a/input" placeholder="Enter your answer here">
      <br>
      <br>
      <button onclick="recordButtonPress('Pretest/Ex5a/input', true); showNextPart()">Submit</button>
    </div>
  </section>

  <section id="part1" class="hidden">
    <h2>Part 1: Real-World Propositions</h2>

    <div id="intro-prop">
      <h3>Introduction to Propositions</h3>
    </div>
    <div class="normal">
      Propositions are statements that can be either true or false.<br>
      Here are examples of propositions:
      <ul>
        <li><span class="underlined" style="--underlined-default-color: green;">The sun is a star</span></li>
        <li><span class="underlined" style="--underlined-default-color: red;">Knaves tell the truth</span></li>
        <li><span class="underlined" style="--underlined-default-color: red;">You were born in 1905</span></li>
        <li><span class="underlined" style="--underlined-default-color: green;">This is a proposition</span></li>
        <li><span class="underlined" onclick="cycleUnderlineColor(this)">I am hungry</span></li>
      </ul>
    </div>
    <div class="tip">
      <h3>Professor Logica Tip: Unknown truth values</h3>
      For some propositions - like the last one in the examples above - we might not necessarily know whether it is
      true or not. In this interface, you can click on them to make assumptions on their truth value. Try clicking on
      the previous gray proposition.
    </div>
    <div class="normal">

      Here are some examples that are not propositions:
      <ul>
        <li>Please answer this study</li>
        <li>Do you like sports ?</li>
        <li>I define <i>x</i> as my age</li>
      </ul>
    </div>
    <div id="not">
      <h3>The 'not' operator</h3>
    </div>
    <div class="normal">
      The most basic operation on propositions is the 'not' operator, which reverses the truth value of a proposition.
      <ul>
        <li><span class="lower-underlined" style="--underlined-default-color: red;"><span class="underlined"
              style="--underlined-default-color: green;">The sun is</span> not <span class="underlined"
              style="--underlined-default-color: green;">a star</span></span></li>
        <li><span class="lower-underlined" style="--underlined-default-color: green;"><span class="underlined"
              style="--underlined-default-color: red;">You were</span> not <span class="underlined"
              style="--underlined-default-color: red;">born in 1905</span></span></li>
        <li><span class="lower-underlined" onclick="calculateLowerColor(this, not, 'half1')"><span class="underlined"
              id="half1" onclick="cycleUnderlineColor(this, 'half2')">I am</span> not <span class="underlined"
              id="half2" onclick="cycleUnderlineColor(this, 'half1')">hungry</span></span></li>
      </ul>
      <br>
      As before you can click on the grey proposition to make assumptions on its truth value.
    </div>
  </section>

  <section id="part2" class="hidden">
    <h2>Part 2: Logical Connectives</h2>

    <div id="intro-logic">
      <h3>Introduction to Logical Connectives</h3>
    </div>
    <div class="normal">

      Logical connectives are words or constructs that are used to link two unit propositions into one complex
      proposition
      <br>
      For example:
      <ul>
        <li>"<span class="lower-underlined" style="--underlined-default-color: green;"><span class="underlined"
              style="--underlined-default-color: green;">The sun is a star</span> and <span class="underlined"
              style="--underlined-default-color: green;">the earth is a planet</span></span>"</li>
        <li>"<span class="lower-underlined" style="--underlined-default-color: red;"><span class="underlined"
              style="--underlined-default-color: red;">Knaves tell the truth</span> and <span class="underlined"
              style="--underlined-default-color: green;">the sky is blue</span></span>"</li>
        <li>"<span class="lower-underlined" style="--underlined-default-color: green;"><span class="underlined"
              style="--underlined-default-color: red;">You were born in 1905</span> or <span class="underlined"
              style="--underlined-default-color: green;">after</span></span>"</li>
      </ul>
      <br>
      Here is a list of the most common logical connectives:
      <ul>

        <li>"... and ..."</li>
        <li>"... or ..."</li>
        <li><span style="display: flex;">"if ... then ..."
            <span style="color: gray; margin-left: 100px;">(implies)</span></span>
        </li>
        <li><span style="display: flex;">"... if and only if ..."
            <span style="color: gray; margin-left: 58px;">(equivalence - double implication)</span></span>
        </li>
        <li><span style="display: flex;">"... but not ..."
            <span style="color: gray; margin-left: 95px;">(and not)</span></span>
        </li>
        <li><span style="display: flex;">"one of ... and ..."
            <span style="color: gray; margin-left: 69px;">(xor - exclusive or)</span></span>
        </li>
      </ul>

    </div>
    <div class="tip">
      <h3>Professor Logica Tip: Implications</h3>
      "A implies B" corresponds to "B or (not A)", this can be used when implications become confusing.
    </div>
    <div class="normal">

      The truth value of unit propositions can be used to know the truth value of the complex proposition.
      <br>
      Here are some examples:
      <ul>
        <li>"<span class="lower-underlined" style="--underlined-default-color: red;"><span class="underlined"
              style="--underlined-default-color: green;">...</span> and <span class="underlined"
              style="--underlined-default-color: red;">...</span></span>"</li>
        <li>"<span class="lower-underlined" style="--underlined-default-color: green;"><span class="underlined"
              style="--underlined-default-color: green;">...</span> or <span class="underlined"
              style="--underlined-default-color: red;">...</span></span>"</li>
        <li>"<span class="lower-underlined" style="--underlined-default-color: green;">if <span class="underlined"
              style="--underlined-default-color: red;">...</span> then <span class="underlined"
              style="--underlined-default-color: red;">...</span></span>"</li>
        <li>"<span class="lower-underlined" style="--underlined-default-color: red;">if <span class="underlined"
              style="--underlined-default-color: green;">...</span> then <span class="underlined"
              style="--underlined-default-color: red;">...</span></span>"</li>
        <li>"<span class="lower-underlined" style="--underlined-default-color: red;"><span class="underlined"
              style="--underlined-default-color: red;">...</span> if and only if <span class="underlined"
              style="--underlined-default-color: green;">...</span></span>"</li>
        <li>"<span class="lower-underlined" style="--underlined-default-color: green;"><span class="underlined"
              style="--underlined-default-color: red;">...</span> if and only if <span class="underlined"
              style="--underlined-default-color: red;">...</span></span>"</li>
        <li><span class="lower-underlined" style="--underlined-default-color: red;">one of <span class="underlined"
              style="--underlined-default-color: green;">...</span> and <span class="underlined"
              style="--underlined-default-color: green;">...</span></span>"</li>
      </ul>
    </div>
    <div id="ex1" class="exercise">
      <h3>Exercise: Truth value of a complex proposition</h3>
      Try to find the correct truth value for the following propositions:
      <ul>
        <li>"<span class="lower-underlined" onclick="cycleUnderlineColor(this)"><span class="underlined"
              style="--underlined-default-color: green;">...</span> or <span class="underlined"
              style="--underlined-default-color: green;">...</span></span>"</li>
        <li>"<span class="lower-underlined" onclick="cycleUnderlineColor(this)">if <span class="underlined"
              style="--underlined-default-color: red;">...</span> then <span class="underlined"
              style="--underlined-default-color: green;">...</span></span>"</li>
        <li>"<span class="lower-underlined" onclick="cycleUnderlineColor(this)"><span class="underlined"
              style="--underlined-default-color: green;">...</span> if and only if <span class="underlined"
              style="--underlined-default-color: red;">...</span></span>"</li>
      </ul>
      <br>
      <button onclick="revealSolution1('solution1'); this.style.display='none';">Reveal Solution</button>
    </div>
    <div class="normal">

      The truth value of the complex proposition can sometimes be used to know the truth value of one of its unit
      propositions, if we know the truth value of the other unit proposition.
      <br>
      Here are some example where we can:
      <ul>
        <li>"<span class="lower-underlined" style="--underlined-default-color: red;"><span class="underlined"
              style="--underlined-default-color: green;">...</span> and <span class="underlined"
              style="--underlined-default-color: grey;" onclick="cycleUnderlineColor(this)">...</span></span>"</li>
        <li>"<span class="lower-underlined" style="--underlined-default-color: red;"><span class="underlined"
              style="--underlined-default-color: grey;" onclick="cycleUnderlineColor(this)">...</span> or <span
              class="underlined" style="--underlined-default-color: red;">...</span></span>"</li>
        <li>"<span class="lower-underlined" style="--underlined-default-color: green;">if <span class="underlined"
              style="--underlined-default-color: grey;" onclick="cycleUnderlineColor(this)">...</span> then <span
              class="underlined" style="--underlined-default-color: red;">...</span></span>"</li>
      </ul>
      <br>
      Here are some example where we can't:
      <ul>
        <li>"<span class="lower-underlined" style="--underlined-default-color: red;"><span class="underlined"
              style="--underlined-default-color: red;">...</span> and <span class="underlined"
              style="--underlined-default-color: gray;" onclick="cycleUnderlineColor(this)">...</span></span>"</li>
        <li>"<span class="lower-underlined" style="--underlined-default-color: green;"><span class="underlined"
              style="--underlined-default-color: gray;" onclick="cycleUnderlineColor(this)">...</span> or <span
              class="underlined" style="--underlined-default-color: green;">...</span></span>"</li>
        <li>"<span class="lower-underlined" style="--underlined-default-color: green;">if <span class="underlined"
              style="--underlined-default-color: red;">...</span> then <span class="underlined"
              style="--underlined-default-color: gray;" onclick="cycleUnderlineColor(this)">...</span></span>"</li>
      </ul>
      </ul>
    </div>
    <div id="truth-tables">
      <h3>Truth Tables</h3>
    </div>
    <div class="normal">

      A truth table is a table where you list out all the possible truth values for each unit proposition and you deduce
      the truth values of the composite propositions for each combination.
      For example:
      <ul>
        <table border="1">
          <tr>
            <th>A</th>
            <th>B</th>
            <th>C</th>
            <th>A and B</th>
            <th>A or C</th>
            <th>if (A and B) then (A or C)</th>
          </tr>
          <tr>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          </tr>
          <tr>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          </tr>
          <tr>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          </tr>
          <tr>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          </tr>
          <tr>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          </tr>
          <tr>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          </tr>
          <tr>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          </tr>
          <tr>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
            <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          </tr>
        </table>
    </div>
    <div class="normal">

      Try to play with the following proposition to see the same result:
      <ul>
        if <span class="lower-lower-underlined" onclick="calculateLowerColor(this, implies, 'l1', 'l2')"><span
            class="lower-underlined" id="l1"
            onclick="calculateLowerColor(this, and, 'a1', 'b'); calculateLowerColor(document.getElementById('l2'), or, 'a1', 'c');"><span
              class="underlined" id="a1" onclick="cycleUnderlineColor(this, 'a2')">A</span> and <span class="underlined"
              id="b" onclick="cycleUnderlineColor(this)">B</span></span> then <span class="lower-underlined" id="l2"
            onclick="calculateLowerColor(this, or, 'a1', 'c'); calculateLowerColor(document.getElementById('l1'), and, 'a1', 'b');"><span
              class="underlined" id="a2" onclick="cycleUnderlineColor(this, 'a1')">A</span> or <span class="underlined"
              id="c" onclick="cycleUnderlineColor(this)">C</span></span>
      </ul>
      <br>
      This truth table demonstrates that "if A and B then A or C" is always true. This is natural because "A and B"
      being True implies "A" being True which implies "A or C" being True. So by transitivity, "A and B" implies "A or
      C" and this corresponds to the proposition "if A and B then A or C" being True.
      <br>
      This gives us a method for knowing if a composite proposition is true or not, indeed, we can try all the possible
      truth values for each of the unit propositions. This is called a <i> case disjunction </i>.
    </div>

    <div class="exercise">
      <h3>Exercise: Case Disjunction</h3>
      Try to solve the following riddle with case disjunction:
      <ul> A and B are Knights or Knaves, A says "there is at most one Knight among us." What are A and B?
      </ul>
      <button onclick="revealSolution2('solution2'); this.style.display='none';">Reveal Solution</button>
      <span id="solution2" style="display: none;">
        <i> A is a Knight, and B is a Knave. </i>
      </span>
    </div>
    <div class="exercise">
      <h3>Exercise: Truth Tables</h3>
      Fill in this truth table with the correct values:
      <br><br>
      <table border="1">
        <tr>
          <th>A</th>
          <th>B</th>
          <th>C</th>
          <th>not B</th>
          <th>A but not B</th>
          <th>C if and only if A</th>
          <th>(A but not B) or <br> (C if and only if A)</th>
        </tr>
        <tr>
          <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
        </tr>
        <tr>
          <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
        </tr>
        <tr>
          <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
          <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
        </tr>
        <tr>
          <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
          <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">Fase</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
        </tr>
        <tr>
          <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
          <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
        </tr>
        <tr>
          <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
          <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
        </tr>
        <tr>
          <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
          <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
          <td><span class="underlined" style="--underlined-default-color: green;">True</span></td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
        </tr>
        <tr>
          <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
          <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
          <td><span class="underlined" style="--underlined-default-color: red;">False</span></td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: red;">False</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
          <td>
            <select>
              <option value="Option 1" selected>Can't know</option>
              <option value="Option 2">True</option>
              <option value="Option 3">False</option>
            </select>
            <span class="solution" style="display: none;">
              <span class="underlined" style="--underlined-default-color: green;">True</span>
          </td>
          </span>
          </td>
        </tr>
      </table>
      <br>
      <button onclick="revealSolution3('tableLogic'); this.style.display='none';">Reveal Solution</button>
    </div>
    </ul>
  </section>

  <section id="part3" class="hidden">
    <h2>Part 3: Combination</h2>

    <div id="build-compound">
      <h3>Unintuitive logical constructions</h3>
    </div>
    <div class="normal">
      Now that you know how to manipulate logical connectives to makes complex propositions, we can introduce some less
      intuitive logical constructions.
      <br><br>
      <ul>
        <li><strong>Double negation</strong> is the fact that two 'not' operators cancel out.
          <br>
          <p style="font-weight: 500;">
            For example, if A is a Knave and says "B is not a Knight" then we know B is a Knight.
          </p>
          <br>
        </li>
        <li><strong>Equifinality</strong> is when there are several possible truth values that have a common outcome or
          common property.
          <br>
          <p style="font-weight: 500;">
            For example, if A says "B is a Knave" and B says "A is a Knave", then we don't know what A and B are but we
            know there is one Knight and one Knave.
          </p>
          <br>
        </li>
        <li><strong>Paradoxes</strong> also called <strong>performing contradictions</strong> is when for all the truth
          values possible, a proposition contradicts the assumptions.
          <br>
          <p style="font-weight: 500;">
            For example if A is either a Knight or a Knave and says "I am a Knave" then we have a contradiction.
          </p>
          <br>
        </li>
        <li><strong>Randomness</strong>, as opposed to determinism, is when the truth value of a proposition is random
          and cannot be determined. In riddles, you usually want to isolate the source of randomness in order to infer
          what you can from the rest of the problem.
          <br>
          <p style="font-weight: 500;">
            For example, if A is Normal, whatever question we ask him, he can always answer both True or False.
          </p>
          <br>
        </li>
      </ul>
    </div>
    <div class="tip">
      <h3>Professor Logica Tip: Single Normal Indistinguishibility</h3>
      We can't know if a person A is a Normal by only asking him yes-no questions. Indeed, if there was a question
      that could eventually decide if A is Normal, then one answer (for example True) would tell us A is Normal and
      the other answer (False) that he is Knight or Knave. However, we know that if A is Normal he can answer both
      True or False, so this question cannot exist.
    </div>
    <div class="exercise">
      <h3>Exercise: Using unintuitive logical constructs</h3>
      Below are some riddles, you have to solve each riddle and identify which of the previous constructions are used
      in the riddle: (SOLUTION + HINT)
      <br><br>
      <ul>
        <li>
          We have three individuals A, B, and C, either Knights or Knaves.
          A says "There are at most 2 Knights among us."
          What are A, B, and C ?
          <br>
          <br>
          <select style="width: 150px;">
            <option value="Option 1" selected>Don't know</option>
            <option value="Option 2">Double negation</option>
            <option value="Option 3">Equifinality</option>
            <option value="Option 4">Paradoxes</option>
            <option value="Option 5">Randomness</option>
          </select>
          <br><br>
          <button onclick="revealSolution2('sol1'); this.style.display='none';">Reveal Solution</button>
          <span id="sol1" style="display: none;">
            <i>Equifinality - A is a Knight, B and C can be either</i>
          </span>
        </li>
        <br>
        <li>
          In front of you is either Knight or Knave, who answers by “yes” or “no”, and you want to know if proposition A
          is true, what can you ask them to know ?
          <br>
          <br>
          <div class="dropdown-hint-wrapper">
            <select style="width: 150px;">
              <option value="Option 1" selected>Don't know</option>
              <option value="Option 2">Double negation</option>
              <option value="Option 3">Equifinality</option>
              <option value="Option 4">Paradoxes</option>
              <option value="Option 5">Randomness</option>
            </select>
            <button class="special-button" onclick="revealSolution2('hint1'); this.style.display='none';">Reveal
              Hint</button>
          </div>
          <span id="hint1" style="display: none;">
            <br>
            <i>Try to use double negation.</i>
          </span>
          <br>
          <button onclick="revealSolution2('sol2'); this.style.display='none';">Reveal Solution</button>
          <span id="sol2" style="display: none;">
            <i>Double negation - What would you answer if I asked you if A is true ?</i>
          </span>
        </li>

        <br>
        <li>
          A and B are Knights or Knaves, and A says "I am a Knave or B is a Knight." What are A and B ?
          <br>
          <br>
          <select style="width: 150px;">
            <option value="Option 1" selected>Don't know</option>
            <option value="Option 2">Double negation</option>
            <option value="Option 3">Equifinality</option>
            <option value="Option 4">Paradoxes</option>
            <option value="Option 5">Randomness</option>
          </select>
          <br><br>
          <button onclick="revealSolution2('sol3'); this.style.display='none';">Reveal Solution</button>
          <span id="sol3" style="display: none;">
            <i>Paradoxes - Both are Knights</i>
          </span>
        </li>
        <br>
        <li>
          A, B and C are two Knights and one Normal and you have to find who is Normal, you can ask two yes-no
          questions each to one person, what are your questions ?
          <br>
          <br>
          <div class="dropdown-hint-wrapper">
            <select style="width: 150px;">
              <option value="Option 1" selected>Don't know</option>
              <option value="Option 2">Double negation</option>
              <option value="Option 3">Equifinality</option>
              <option value="Option 4">Paradoxes</option>
              <option value="Option 5">Randomness</option>
            </select>
            <button class="special-button" onclick="revealSolution2('hint2'); this.style.display='none';">Reveal
              Hint</button>
          </div>
          <span id="hint2" style="display: none;">
            <br>
            <i>Use the first question to identify someone who isn't Normal, and therefore is a Knight</i>
          </span>
          <br>
          <button onclick="revealSolution2('sol4'); this.style.display='none';">Reveal Solution</button>
          <span id="sol4" style="display: none;">
            <i>Randomness - Ask A "Is B Normal", if Yes then ask C "Who is Normal ?" if No ask B "Who is Normal ?"</i>
          </span>
        </li>
        <br>
        <li>
          A and B are Knights or Knaves, A says "I am different from B". What are A and B ?
          <br>
          <br>
          <select style="width: 150px;">
            <option value="Option 1" selected>Don't know</option>
            <option value="Option 2">Double negation</option>
            <option value="Option 3">Equifinality</option>
            <option value="Option 4">Paradoxes</option>
            <option value="Option 5">Randomness</option>
          </select>
          <br><br>
          <button onclick="revealSolution2('sol5'); this.style.display='none';">Reveal Solution</button>
          <span id="sol5" style="display: none;">
            <i>Equifinality - A can be either but B is a Knave</i>
          </span>
        </li>

      </ul>
      </ul>
    </div>
  </section>
  <section id="posttest" class="hidden">
    <div class="tip">
      <h3>Professor Logica</h3>
      Fantastic work ! You now know the basics of combinational logic and would be able to wiggle
      yourself out of any delicate situation ! Now let's see if you can do better than yourself
      back when you hadn't learned about all these concepts !
    </div>
    <div id="ex1b" class="exercise">
      <h3>Checkup</h3>
      Of A and B, one is a Knight and one is a Knave. You ask A ”Is B a Knave?” What will he
      answer?
      <br>
      <br>

      <button onclick="recordButtonPress('Pretest/Ex1b/Yes', true)">Yes</button>
      <button onclick="recordButtonPress('Pretest/Ex1b/No', true)">No</button>
    </div>
    <div id="ex2b" class="exercise hidden">
      <h3>Checkup</h3>
      All Knaves are born on Mondays and all politicians are Knaves. You meet A and find out he
      was born on a Monday, is he a politician?
      <br>
      <br>

      <button onclick="recordButtonPress('Pretest/Ex2b/Yes', true)">Yes</button>
      <button onclick="recordButtonPress('Pretest/Ex2b/No', true)">No</button>
      <button onclick="recordButtonPress('Pretest/Ex2b/Can\'t say', true)">Unsure</button>

    </div>
    <div id="ex3b" class="exercise hidden">
      <h3>Checkup</h3>
      A Knight says ”I am the only one on this island to be born on Monday.” Can a Knave say
      ”Everyone born on Monday is a Knight?”
      <br>
      <br>
      <button onclick="recordButtonPress('Pretest/Ex3b/Yes', true)">Yes</button>
      <button onclick="recordButtonPress('Pretest/Ex3b/No', true)">No</button>
    </div>
    <div id="ex4b" class="exercise hidden">
      <h3>Checkup</h3>
      Consider a scenario with three individuals: A, B, and C. One is a Knight, one is a Knave,
      and one is Normal. You have the following information: A says, ”I am a Knight.” B says, ”A is a
      Knave.”
      <br>
      <br>
      How many possible scenarios are there?
      <br>
      <br>
      <input type="text" id="Pretest/Ex4b/input" placeholder="Enter your number answer">
      <br>
      <br>
      <button onclick="recordButtonPress('Pretest/Ex4b/input', true)">Submit</button>

    </div>
    <div id="ex5b" class="exercise hidden">
      <h3>Checkup</h3>
      Create a situation where you can know B but not A
      <br>
      <br>
      <input type="text" id="Pretest/Ex5b/input" placeholder="Enter your answer here">
      <br>
      <br>
      <button onclick="recordButtonPress('Pretest/Ex5b/input', true); showNextPart()">Submit</button>
    </div>
  </section>
  <section class="hidden">
    <h2>End of the adventure !</h2>
    <div class="normal">
      <p>
        Congratulations on completing the logical journey ! You have successfully navigated the intricacies of the
        island of the Knights and the Knaves. Throughout this adventure, you've honed your reasoning skills, mastering
        the art of distinguishing truth from deception.
      </p>
      <p>
        As you reflect on your expedition, remember the valuable lessons from Professor Logica. Your ability to ask
        precise, closed questions has become a powerful tool in unraveling the mysteries of this unique realm. Well done
        on achieving a deeper understanding of logic !
      </p>
    </div>
  </section>

  <script>
    function addProfessorLogicaIcon() {
      const tips = document.querySelectorAll('.tip h3');
      const iconHTML = '<div class="professor-box"><img src="./proffessor.png" alt="Professor Logica" class="professor-icon">';

      tips.forEach(h3 => {
        h3.innerHTML = iconHTML + h3.innerHTML + '</div>';
      });
    }

    function highlightWords() {
      const content = document.body.innerHTML;
      console.log("ARSt")

      const knightsRegex = /Knights/g;
      const knavesRegex = /Knaves/g;
      const knightRegex = /Knight/g;
      const knaveRegex = /Knave/g;

      const updatedContent = content
        .replace(knightsRegex, '<span class="knight">Knights</span>')
        .replace(knavesRegex, '<span class="knave">Knaves</span>')
        .replace(knightRegex, '<span class="knight">Knight</span>')
        .replace(knaveRegex, '<span class="knave">Knave</span>');

      document.body.innerHTML = updatedContent;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function setupExercises() {
      const exercisePairs = [
        ['ex1a', 'ex1b'],
        ['ex2a', 'ex2b'],
        ['ex3a', 'ex3b'],
        ['ex4a', 'ex4b'],
        ['ex5a', 'ex5b']
      ];

      // Select the pretest and posttest sections
      const pretestSection = document.getElementById('pretest');
      const posttestSection = document.getElementById('posttest');

      exercisePairs.forEach(pair => {
        let index = Math.random() > 0.5 ? 0 : 1;
        let pretestExercise = document.getElementById(pair[index]);
        let posttestExercise = document.getElementById(pair[1 - index]);

        // Append to pretest and posttest sections
        pretestSection.appendChild(pretestExercise);
        posttestSection.appendChild(posttestExercise);
      });
    }



    window.onload = function () {
      setupExercises();
      addProfessorLogicaIcon();
      highlightWords();
      updateBackButtonVisibility();
      startTimer(); // Add this if you have a function to start the timer
    };

  </script>
  <script>
    const colorCycle = ['gray', 'green', 'red'];

    function cycleUnderlineColor(element, twinId) {
      const currentColor = element.style.borderColor || 'gray';
      const currentIndex = colorCycle.indexOf(currentColor);
      const nextIndex = (currentIndex + 1) % colorCycle.length;
      const nextColor = colorCycle[nextIndex];

      // Set the border color to the next color for the higher underline
      element.style.borderColor = nextColor;

      // If there is a twin, update the twin
      if (twinId) {
        const twinElement = document.getElementById(twinId);
        if (twinElement) {
          twinElement.style.borderColor = nextColor;
        }
      }
    }

    function calculateLowerColor(element, fct, id1, id2) {
      // Get the current colors of the underlined elements
      const color1 = document.getElementById(id1).style.borderColor || 'gray';
      lowerColor = 'gray'
      if (id2) {
        const color2 = document.getElementById(id2).style.borderColor || 'gray';

        // Calculate the color for the lower underline based on the colors of the underlined elements
        lowerColor = fct(color1, color2);
      } else {
        lowerColor = fct(color1);
      }
      // Set the border color for the lower underline
      element.style.borderColor = lowerColor;
    }

    function not(color1) {
      // Define color combinations based on pairs
      switch (`${color1}`) {
        case 'gray':
          return 'gray';
        case 'green':
          return 'red';
        case 'red':
          return 'green';
        default:
          return 'yellow'; // Default to 'yellow' for unknown cases
      }
    }

    function and(color1, color2) {
      // Define color combinations based on pairs
      switch (`${color1}-${color2}`) {
        case 'gray-gray':
          return 'gray';
        case 'gray-green':
        case 'green-gray':
          return 'gray';
        case 'gray-red':
        case 'red-gray':
          return 'red';
        case 'green-green':
          return 'green';
        case 'green-red':
        case 'red-green':
          return 'red';
        case 'red-red':
          return 'red';
        default:
          return 'yellow'; // Default to 'yellow' for unknown cases
      }
    }

    function or(color1, color2) {
      // Define color combinations based on pairs
      switch (`${color1}-${color2}`) {
        case 'gray-gray':
          return 'gray';
        case 'gray-green':
        case 'green-gray':
          return 'green';
        case 'gray-red':
        case 'red-gray':
          return 'gray';
        case 'green-green':
          return 'green';
        case 'green-red':
        case 'red-green':
          return 'green';
        case 'red-red':
          return 'red';
        default:
          return 'yellow'; // Default to 'yellow' for unknown cases
      }
    }

    function implies(color1, color2) {
      // Define color combinations based on pairs
      switch (`${color1}-${color2}`) {
        case 'gray-gray':
          return 'gray';
        case 'gray-green':
          return 'green';
        case 'green-gray':
          return 'gray';
        case 'gray-red':
          return 'gray';
        case 'red-gray':
          return 'green';
        case 'green-green':
          return 'green';
        case 'green-red':
          return 'red';
        case 'red-green':
          return 'green';
        case 'red-red':
          return 'green';
        default:
          return 'yellow'; // Default to 'yellow' for unknown cases
      }
    }

    function xor(color1, color2) {
      // Define color combinations based on pairs
      switch (`${color1}-${color2}`) {
        case 'gray-gray':
          return 'gray';
        case 'gray-green':
        case 'green-gray':
          return 'gray';
        case 'gray-red':
        case 'red-gray':
          return 'gray';
        case 'green-green':
          return 'red';
        case 'green-red':
        case 'red-green':
          return 'green';
        case 'red-red':
          return 'red';
        default:
          return 'yellow'; // Default to 'yellow' for unknown cases
      }
    }

    // Counter to keep track of the number of pages
    let pageCounter = 0;
    function showPreviousPart() {
      const sections = document.querySelectorAll('section');
      let currentPart;

      for (const section of sections) {
        if (!section.classList.contains('hidden')) {
          currentPart = section;
          break;
        }
      }

      if (currentPart) {
        const prevPart = currentPart.previousElementSibling;
        if (prevPart && prevPart.tagName === 'SECTION') {
          currentPart.classList.add('hidden');
          prevPart.classList.remove('hidden');
          pageCounter--;

          // Show the next button if it was hidden
          document.getElementById('nextPartButton').style.display = 'block';
        }

        // Update the visibility of the back button
      }
      updateBackButtonVisibility();
    }

    function updateBackButtonVisibility() {
      document.getElementById('backPartButton').style.display = pageCounter == 0 ? 'none' : 'block';
    }

    function showNextPart() {
      // Increment the page counter
      pageCounter++;
      recordButtonPress(pageCounter, false)

      // Check if the button should be hidden after a certain number of pages
      const maxPagesToShowButton = 6; // Adjust this value to your desired number of pages  

      // Iterate through all sections to find the currently visible part
      const sections = document.querySelectorAll('section');
      let currentPart;

      for (const section of sections) {
        if (!section.classList.contains('hidden')) {
          currentPart = section;
          break;
        }
      }

      // If there is a visible part, hide it
      if (currentPart) {
        currentPart.classList.add('hidden');

        // Find the next part and show it
        const nextPart = currentPart.nextElementSibling;
        if (nextPart) {
          nextPart.classList.remove('hidden');
        }
      }

      //Scroll to the top of the page
      window.scrollTo({ top: 0 });
      if (pageCounter == maxPagesToShowButton) {
        // Hide the button after reaching the maximum number of pages
        document.getElementById('nextPartButton').style.display = 'none';
      }
      updateBackButtonVisibility();
    }


    function goToTheEnd() {
      // Iterate through all sections to find the last section
      const sections = document.querySelectorAll('section');
      let lastSection;

      for (const section of sections) {
        lastSection = section;
      }

      // If the last section is found, show it and hide all others
      if (lastSection) {
        sections.forEach((section) => {
          section.classList.add('hidden');
        });
        lastSection.classList.remove('hidden');

        // Scroll to the top of the page
        window.scrollTo({ top: 0 });
      }

      document.getElementById('nextPartButton').style.display = 'none';
      document.getElementById('nextPartButton').style.display = 'none';
      document.getElementById('stopExp').style.display = 'none';
    }

    function revealSolution1() {
      recordButtonPress(solutionID, false)

      // Set the correct colors for the underlined elements
      document.querySelector('.exercise li:nth-child(1) span.lower-underlined:nth-child(1)').style.borderColor = 'green';

      document.querySelector('.exercise li:nth-child(2) span.lower-underlined:nth-child(1)').style.borderColor = 'green';

      document.querySelector('.exercise li:nth-child(3) span.lower-underlined:nth-child(1)').style.borderColor = 'red';
    }

    function revealSolution2(solutionID) {
      // Show the hidden solution by ID
      recordButtonPress(solutionID, false)
      const solutionDiv = document.getElementById(solutionID);
      if (solutionDiv) {
        solutionDiv.style.display = 'block';
      }
    }

    function revealSolution3(solutionID) {
      // Get all elements with the "solution" class
      recordButtonPress(solutionID, false)

      const solutionDivs = document.getElementsByClassName('solution');

      // Loop through each solution element and show it
      for (const solutionDiv of solutionDivs) {
        solutionDiv.style.display = 'block';
      }
    }
  </script>

  <script>

  </script>

  <script>
    // Array to hold button press data
    let buttonPressData = [];

    function recordButtonPress(buttonId, boolean) {
      const now = new Date();
      // Add the data to the array

      if (String(buttonId).includes("input")) {
        const inputElement = document.getElementById(buttonId).getAttribute("placeholder");
        buttonPressData.push({
          buttonId: inputElement,
          time: document.getElementById('timer').innerText
        });
      } else {
        buttonPressData.push({
          buttonId: buttonId,
          time: document.getElementById('timer').innerText
        });
      }


      if (boolean) {
        // Find the current div that contains the pressed button
        let currentDiv = document.querySelector(`button[onclick*="${buttonId}"]`).closest('.exercise');

        // Hide the current div
        if (currentDiv) {
          currentDiv.classList.add('hidden');

          // Check if the currentDiv is the last exercise div in its parent section
          let parentSection = currentDiv.parentElement;
          let lastExerciseDiv = parentSection.querySelector('.exercise:last-of-type');

          // Check if the currentDiv is the last one in its section
          if (currentDiv === lastExerciseDiv) {
            // If it's the last exercise in the section, find and show the next section
            let nextSection = parentSection.nextElementSibling;
            if (nextSection && !nextSection.classList.contains('hidden')) {
              nextSection.classList.remove('hidden');
            }
          } else {
            // If it's not the last exercise, find and show the next div
            let nextDiv = currentDiv.nextElementSibling;
            if (nextDiv && nextDiv.classList.contains('exercise')) {
              nextDiv.classList.remove('hidden');
            }
          }
        }
      }
    }

    function sendData(sessionId, timestamp, buttonPressData) {
      fetch('https://flep.ch/record_session', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          session_id: sessionId,
          timestamp: timestamp,
          button_press_data: buttonPressData  // Add this line
        }),
      })
        .then(response => response.json())
        .then(data => console.log(data))
        .catch((error) => {
          console.error('Error:', error);
        });
    }

    function downloadCSV() {
      // Generate a session ID and get the current timestamp
      let sessionId = 'session_' + Date.now(); // Example session ID
      let timestamp = new Date().toISOString();

      // Call sendData() before proceeding to download the CSV
      sendData(sessionId, timestamp, buttonPressData);
    }

  </script>

  <div class="navigation-buttons">
    <button id="nextPartButton" onclick="showNextPart()">Next</button>
    <button id="backPartButton" onclick="showPreviousPart()">Back</button>
  </div>

</body>

</html>